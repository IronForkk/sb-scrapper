# ============================================
# SB-Scrapper Environment Variables
# ============================================
# Bu dosya, uygulamanın tüm ayarlarını içerir.
# .env dosyası bu dosyadan kopyalanarak oluşturulmalıdır.
# ============================================

# ============================================
# Tarayıcı Ayarları
# ============================================

# Tarayıcı headless modda çalışır mı?
# true: Arayüz olmadan çalışır (sunucu için)
# false: Tarayıcı penceresi görünür (debug için)
HEADLESS=true

# Sayfa yüklendikten sonra beklenecek süre (saniye)
# JavaScriptlerin oturması için bekler.
# Düşük değerler sayfanın tam yüklenmemesine neden olabilir.
# Önerilen: 5-15 arası
WAIT_TIME=8

# User Agent platform seçimi
# windows: Windows tarayıcıları
# macos: macOS tarayıcıları
# linux: Linux tarayıcıları
USER_AGENT_PLATFORM=windows

# Page Load Timeout (saniye)
# Sayfa yükleme zaman aşımı süresi.
# Önerilen: 30-120 arası
PAGE_LOAD_TIMEOUT=60

# Body Check Wait Time (saniye)
# JavaScript yüklenmesi için bekleme süresi.
# Önerilen: 1-3 arası
BODY_CHECK_WAIT_TIME=2

# Page Reload Wait Time (saniye)
# Sayfa yeniden yüklendiğinde bekleme süresi.
# Önerilen: 3-7 arası
PAGE_RELOAD_WAIT_TIME=5

# ============================================
# Ek Bekleme Süreleri
# ============================================

# Mobil Mod Wait Time (saniye)
# Mobil görünümde ekran görüntüsü alındıktan sonra beklenecek süre.
# Önerilen: 1-3 arası
MOBILE_WAIT_TIME=2

# Arama Motoru Wait Time (saniye)
# Google ve DuckDuckGo aramalarında beklenecek süre.
# Önerilen: 2-5 arası
SEARCH_ENGINE_WAIT_TIME=3

# Frame Switch Wait Time (saniye)
# iframe'e geçtikten sonra beklenecek süre.
# Önerilen: 0-2 arası
FRAME_SWITCH_WAIT_TIME=1

# Consent Click Wait Time (saniye)
# Cookie consent butonuna tıklandıktan sonra beklenecek süre.
# Önerilen: 2-5 arası
CONSENT_CLICK_WAIT_TIME=3

# ============================================
# API Ayarları
# ============================================

# API sunucusunun dinleyeceği IP adresi
# 0.0.0.0: Tüm ağ arayüzlerinden bağlantı kabul eder
# 127.0.0.1: Sadece localhost'tan bağlantı kabul eder
HOST=0.0.0.0

# API sunucusunun dinleyeceği port numarası
PORT=8000

# ============================================
# Loglama Ayarları
# ============================================

# Log seviyesi (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# INFO: Genel bilgi mesajları
# DEBUG: Detaylı debug bilgileri
# WARNING: Uyarı mesajları
# ERROR: Hata mesajları
LOG_LEVEL=INFO

# PostgreSQL'e log yazmayı açar/kapatır.
# ZORUNLU: true olmalıdır (merkezi loglama).
POSTGRES_LOGGING_ENABLED=true

# Konsola log yazmayı açar/kapatır.
# Debug için kullanışlıdır.
CONSOLE_LOGGING_ENABLED=true

# Structured Logging (JSON format) açar/kapatır.
# true: Loglar JSON formatında yazılır (log aggregation araçları için)
# false: Loglar insan okunabilir formatta yazılır
STRUCTURED_LOGGING_ENABLED=false

# Gunicorn loglama açar/kapatır.
# true: Gunicorn access ve error logları PostgreSQL'e yazılır
# false: Gunicorn logları sadece konsola yazılır
GUNICORN_LOGGING_ENABLED=true

# Log formatı (native Python logging format string)
# Varsayılan: %(asctime)s | %(levelname)s | %(name)s:%(funcName)s:%(lineno)d - %(message)s
LOG_FORMAT=%(asctime)s | %(levelname)s | %(name)s:%(funcName)s:%(lineno)d - %(message)s

# ============================================
# Canvas Noise Ayarları
# ============================================

# Canvas fingerprinting bypass için kullanılan noise değerleri
# -50 ile 50 arası değerler kullanılabilir
# Bu değerler, canvas elementlerinin fingerprinting tespitini zorlaştırır
NOISE_MIN_VALUE=-20
NOISE_MAX_VALUE=20

# ============================================
# Black-List Ayarları
# ============================================

# Black-list dosyasının yolu
# Bu dosya, engellenecek domain'leri içerir
BLACKLIST_FILE=black-list.lst

# ============================================
# PostgreSQL Ayarları
# ============================================

# PostgreSQL sunucusunun adresi
# Docker Compose ile kullanırken 'pgbouncer' kullanın (PgBouncer üzerinden bağlantı)
POSTGRES_HOST=pgbouncer

# PostgreSQL sunucusunun portu
# PgBouncer portu kullanın (6432)
POSTGRES_PORT=6432

# Veritabanı adı
POSTGRES_DB=sb_scrapper

# Veritabanı kullanıcı adı
POSTGRES_USER=sb_user

# Veritabanı şifresi
# GÜVENLİK UYARISI: Bu şifreyi güçlü bir şifre ile değiştirin!
POSTGRES_PASSWORD=change_me_strong_password_here

# ============================================
# Request Logging Ayarları
# ============================================

# Request body loglama
# true: Request body loglanır (güvenlik için dikkatli kullanın)
# false: Request body loglanmaz
LOG_REQUEST_BODY=true

# Request header loglama
# true: Request header'lar loglanır (SENSITIVE_HEADERS hariç)
# false: Request header'lar loglanmaz
LOG_REQUEST_HEADERS=true

# Request query parametresi loglama
# true: Query parametreleri loglanır
# false: Query parametreleri loglanmaz
LOG_REQUEST_QUERY=true

# Request log sınırlamaları
# Maksimum request body boyutu (byte cinsinden)
# Büyük body'ler loglanmaz (performans ve güvenlik için)
MAX_REQUEST_BODY_SIZE=10240

# Filtrelenecek hassas header'lar
# Bu header'lar loglanmaz (JSON formatında liste)
# Örnek: ["authorization","cookie","x-api-key","token","x-auth-token"]
SENSITIVE_HEADERS=["authorization","cookie","x-api-key","token","x-auth-token"]

# ============================================
# PgBouncer Ayarları
# ============================================

# PgBouncer portu (uygulama bağlantı portu)
# Uygulama bu port üzerinden PostgreSQL'e bağlanır
PGBOUNCER_PORT=6432

# PgBouncer havuz modu
# session: Her oturum için yeni bağlantı
# transaction: Her transaction için yeni bağlantı
# statement: Her statement için yeni bağlantı
PGBOUNCER_POOL_MODE=session

# PgBounce maksimum istemci bağlantısı
# Aynı anda bağlanabilecek maksimum istemci sayısı
PGBOUNCER_MAX_CLIENT_CONN=150

# PgBouncer varsayılan havuz boyutu
# PostgreSQL sunucusuna açılacak bağlantı sayısı
PGBOUNCER_DEFAULT_POOL_SIZE=34

# ============================================
# BACKUP AYARLARI
# ============================================

# Yedekleme aralığı (saniye)
# 86400 = 24 saat, 43200 = 12 saat, 21600 = 6 saat
BACKUP_INTERVAL=86400

# Yedek saklama süresi (gün)
# 7 gün = 7, 30 gün = 30
BACKUP_RETENTION_DAYS=7

# ============================================
# NOT: YASAKLI AYARLAR
# ============================================
# Aşağıdaki ayarlar bu projede KULLANILMAMALIDIR:
# - Rate limiting (intranet uygulaması)
# - CORS (intranet uygulaması)
# - Authentication (intranet uygulaması)
# - Response caching (gereksiz karmaşıklık)
# - Log viewer (loglar DB ve konsoldan takip edilecek)
# - Log cleanup (DB'den yönetilecek)
# - Connection pool (tek istek modu)
# ============================================
